(function(e){function t(t){for(var r,i,o=t[0],s=t[1],u=t[2],p=0,l=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&l.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"023a":function(e,t,n){"use strict";n("3ad7")},"0397":function(e,t,n){},"0db0":function(e,t,n){},"1ee9":function(e,t,n){"use strict";n("dafc")},2029:function(e,t,n){},"285b":function(e,t,n){var r={"./ar":"8b23","./ar.js":"8b23","./az":"0fd6","./az.js":"0fd6","./be":"a1de","./be.js":"a1de","./bg":"102b","./bg.js":"102b","./bs":"d1c3","./bs.js":"d1c3","./ca":"1b37","./ca.js":"1b37","./cs":"8981","./cs.js":"8981","./cy":"3ced","./cy.js":"3ced","./da":"7f8d","./da.js":"7f8d","./de":"be39","./de.js":"be39","./el":"1866","./el.js":"1866","./en":"6788","./en.js":"6788","./es":"8b4b","./es.js":"8b4b","./et":"df57","./et.js":"df57","./eu":"b9bc","./eu.js":"b9bc","./fa":"83c4","./fa.js":"83c4","./fi":"1137","./fi.js":"1137","./fr":"2849","./fr.js":"2849","./hr":"2e0c","./hr.js":"2e0c","./hu":"62a6","./hu.js":"62a6","./id":"7fc0","./id.js":"7fc0","./it":"d6e0","./it.js":"d6e0","./ja":"7d74","./ja.js":"7d74","./ka":"14c9","./ka.js":"14c9","./ko":"58ac","./ko.js":"58ac","./lt":"845c","./lt.js":"845c","./lv":"c6c3","./lv.js":"c6c3","./mk":"9fc9","./mk.js":"9fc9","./mn":"a3d2","./mn.js":"a3d2","./ms":"f45d","./ms.js":"f45d","./nb_NO":"bfd4","./nb_NO.js":"bfd4","./nl":"7ab1","./nl.js":"7ab1","./pl":"8ef3","./pl.js":"8ef3","./pt":"61d8","./pt.js":"61d8","./pt_BR":"1911","./pt_BR.js":"1911","./ro":"937f","./ro.js":"937f","./ru":"7f57","./ru.js":"7f57","./se":"c47d","./se.js":"c47d","./sl":"7f0b","./sl.js":"7f0b","./sq":"f373","./sq.js":"f373","./sr":"6f79","./sr.js":"6f79","./sv":"0c56","./sv.js":"0c56","./tr":"4bda","./tr.js":"4bda","./ua":"626a","./ua.js":"626a","./uk":"0874","./uk.js":"0874","./vi":"ee20","./vi.js":"ee20","./zh":"0ede","./zh.js":"0ede","./zh_TW":"4690","./zh_TW.js":"4690"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="285b"},"2b01":function(e,t,n){"use strict";n("0db0")},"2c90":function(e,t,n){"use strict";n("9a44")},"3ad7":function(e,t,n){},"44d8":function(e,t,n){"use strict";n("630f")},"50c8":function(e,t,n){"use strict";n("2029")},"56d7":function(e,t,n){"use strict";n.r(t);n("45fc"),n("96cf");var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),c=n("ecee"),i=n("c074"),o=n("ad3d"),s=n("6c02"),u=Object(a["g"])("div",{class:"page-description"},[Object(a["g"])("p",null,"Here is a list of our recipes. Click on any of the cards below for more information."),Object(a["g"])("p",null,"Or you can filter them by category on the left. Enjoy!")],-1);function d(e,t,n,r,c,i){var o=Object(a["w"])("RecipeList");return Object(a["p"])(),Object(a["d"])(a["a"],null,[u,c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])(o,{key:0}))],64)}var p=n("5530"),l=n("5502"),f=Object(a["G"])("data-v-1edbf801");Object(a["s"])("data-v-1edbf801");var b={key:0,class:"recipe-list-ctr"},h={class:"categories-ctr"},j=Object(a["g"])("h4",{class:"section-header"},"Categories",-1),v={key:0,class:"recipes-ctr"},g={key:1,class:"empty-recipes-ctr"},m=Object(a["g"])("h3",null,"No recipes match that query! Please adjust filter settings.",-1);Object(a["q"])();var O=f((function(e,t,n,r,c,i){var o=Object(a["w"])("RecipeCard");return c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",b,[Object(a["g"])("div",h,[j,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(e.recipeCategories,(function(e){return Object(a["p"])(),Object(a["d"])("span",{key:e},[Object(a["E"])(Object(a["g"])("input",{type:"checkbox",class:"category-checkbox",id:e,value:e,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.selectedCategories=e})},null,8,["id","value"]),[[a["A"],c.selectedCategories]]),Object(a["g"])("label",{class:"category-label",for:e},Object(a["y"])(e),9,["for"])])})),128))]),i.filteredRecipes.length?(Object(a["p"])(),Object(a["d"])("div",v,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(i.filteredRecipes,(function(e){return Object(a["p"])(),Object(a["d"])(o,{key:e.sku,recipeData:e,mini:!0},null,8,["recipeData"])})),128))])):(Object(a["p"])(),Object(a["d"])("div",g,[m]))]))})),y=(n("4de4"),n("0481"),n("4160"),n("a630"),n("caad"),n("4069"),n("d3b7"),n("ac1f"),n("6062"),n("2532"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("a4d3"),n("e01a"),n("b0c0"),Object(a["G"])("data-v-0e4b3fed"));Object(a["s"])("data-v-0e4b3fed");var k={class:"card-content"},w={key:0,class:"card-section"},R={class:"ingredients-ctr"},x=Object(a["g"])("h4",null,"Ingredients",-1),I={class:"directions-ctr"},_=Object(a["g"])("h4",null,"Directions",-1),C={class:"card-icons"};Object(a["q"])();var D=y((function(e,t,n,r,c,i){var o=Object(a["w"])("font-awesome-icon");return c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",{key:0,class:["card",{"card-disabled":n.disabled}],disabled:n.disabled},[Object(a["g"])("img",{class:"card-img",src:n.recipeData.src,alt:n.recipeData.name,onClick:t[1]||(t[1]=function(){return i.navToItemDetail.apply(i,arguments)})},null,8,["src","alt"]),Object(a["g"])("div",k,[Object(a["g"])("h3",null,Object(a["y"])(n.recipeData.name),1),Object(a["g"])("p",null,Object(a["y"])(n.recipeData.description),1),n.mini?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",w,[Object(a["g"])("div",R,[x,Object(a["g"])("ul",null,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(i.ingredients,(function(e){return Object(a["p"])(),Object(a["d"])("li",{key:e},Object(a["y"])(e),1)})),128))])]),Object(a["g"])("div",I,[_,Object(a["f"])(" "+Object(a["y"])(n.recipeData.directions),1)])]))]),Object(a["g"])("div",C,[i.isRecipeInFavorites()?(Object(a["p"])(),Object(a["d"])("button",{key:0,disabled:!e.$api.isAuthenticated(),"data-test":"favorite-".concat(n.recipeData.id),onClick:t[2]||(t[2]=Object(a["F"])((function(e){return i.updateFavorites("remove")}),["prevent"]))},[Object(a["g"])(o,{color:"pink","data-test":"heart-icon-".concat(n.recipeData.id),icon:"heart"},null,8,["data-test"])],8,["disabled","data-test"])):(Object(a["p"])(),Object(a["d"])("button",{key:1,disabled:!e.$api.isAuthenticated(),"data-test":"favorite-".concat(n.recipeData.id),onClick:t[3]||(t[3]=Object(a["F"])((function(e){return i.updateFavorites("add")}),["prevent"]))},[Object(a["g"])(o,{color:"grey","data-test":"heart-icon-".concat(n.recipeData.id),icon:"heart"},null,8,["data-test"])],8,["disabled","data-test"])),i.isRecipeInCart()?(Object(a["p"])(),Object(a["d"])("button",{key:2,disabled:!e.$api.isAuthenticated(),"data-test":"cart-".concat(n.recipeData.id),onClick:t[4]||(t[4]=Object(a["F"])((function(e){return i.updateCart("remove")}),["prevent"]))},[Object(a["g"])(o,{color:"#00c096","data-test":"cart-icon-".concat(n.recipeData.id),icon:"shopping-cart"},null,8,["data-test"])],8,["disabled","data-test"])):(Object(a["p"])(),Object(a["d"])("button",{key:3,disabled:!e.$api.isAuthenticated(),"data-test":"cart-".concat(n.recipeData.id),onClick:t[5]||(t[5]=Object(a["F"])((function(e){return i.updateCart("add")}),["prevent"]))},[Object(a["g"])(o,{color:"grey","data-test":"cart-icon-".concat(n.recipeData.id),icon:"shopping-cart"},null,8,["data-test"])],8,["disabled","data-test"]))])],10,["disabled"]))})),$={name:"RecipeCard",data:function(){return{loading:!1}},props:{recipeData:{type:Object,required:!0},mini:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},methods:{updateFavorites:function(e){var t={recipeData:this.recipeData,type:e};this.$store.dispatch("updateFavorites",t)},updateCart:function(e){var t={recipeData:this.recipeData,type:e};this.$store.dispatch("updateCart",t)},navToItemDetail:function(){this.$router.push({name:"RecipeDetail",params:{id:this.recipeData.id}})},isRecipeInFavorites:function(){return this.favoriteRecipeIDs.includes(this.recipeData.id)},isRecipeInCart:function(){return this.cartRecipeIDs.includes(this.recipeData.id)},getFavoriteColor:function(){var e=this.isRecipeInFavorites();return e?"pink":"grey"},getCartColor:function(){var e=this.isRecipeInCart();return e?"#00c096":"grey"}},computed:Object(p["a"])(Object(p["a"])({},Object(l["c"])(["favoriteRecipeIDs","cartRecipeIDs"])),{},{ingredients:function(){return this.recipeData.ingredients.split(",")},favoriteBtn:function(){return"favorite-".concat(this.recipeData.id)}}),created:function(){this.loading=!0},mounted:function(){var e=this;this.$nextTick((function(){return e.loading=!1}))}};n("5cc4");$.render=D,$.__scopeId="data-v-0e4b3fed";var F=$,q={name:"RecipeList",components:{RecipeCard:F},data:function(){return{loading:!1,selectedCategories:["savory","bread","dessert","pastry","breakfast","cake"]}},methods:Object(p["a"])(Object(p["a"])({},Object(l["b"])(["updateRecipes","updateCart"])),{},{getRecipeCategories:function(){var e=[];return console.log(this.recipes),this.recipes.forEach((function(t){var n=t.categories.split(",");e.push(n)})),Array.from(new Set(e.flat()))}}),computed:Object(p["a"])(Object(p["a"])({},Object(l["c"])(["recipes","cart","recipeCategories"])),{},{filteredRecipes:function(){var e=this,t=this.recipes.filter((function(t){var n=t.categories.split(",");return n.some((function(t){return e.selectedCategories.includes(t)}))}));return t}}),created:function(){this.loading=!0},mounted:function(){this.loading=!1}};n("50c8");q.render=O,q.__scopeId="data-v-1edbf801";var L=q,T={name:"Home",components:{RecipeList:L},data:function(){return{loading:!1}},computed:{auth:function(){return this.$api.isAuthenticated()}},methods:Object(p["a"])({},Object(l["b"])(["initData"])),mounted:function(){var e=this;this.initData().then((function(){return setTimeout((function(){e.loading=!1}),600)}))}};T.render=d;var A=T,B=Object(a["G"])("data-v-763baf64");Object(a["s"])("data-v-763baf64");var S={class:"about-ctr"},N=Object(a["g"])("h3",null,"Welcome to the most delicous website on the internet!",-1),P=Object(a["g"])("p",null,"Here you can find recipes from the hit TV show, Great British Bake-off. Click the heart symbol to 'favorite' a recipe or you can click the shopping cart symbol to 'add to cart' and see what ingredients you'll need the next time your at the market.",-1),E=Object(a["g"])("h4",null,"Bon AppÃ©tit!",-1);Object(a["q"])();var G=B((function(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("div",S,[N,P,E])})),H={name:"About"};n("1ee9");H.render=G,H.__scopeId="data-v-763baf64";var U=H,M=Object(a["G"])("data-v-3b7ef782");Object(a["s"])("data-v-3b7ef782");var V={key:0},z={key:0},W=Object(a["g"])("div",{class:"page-description"},[Object(a["g"])("p",null,"These are the recipes that you have favorited. Click on any of the cards below for more info. Yum!")],-1),Y={class:"favorites-ctr"},K={key:1},J=Object(a["g"])("h3",null,"You have not favorited any recipes. You can do so on the home page.",-1),Q=Object(a["g"])("div",{class:"favorites-ctr"},null,-1);Object(a["q"])();var X=M((function(e,t,n,r,c,i){var o=Object(a["w"])("RecipeCard");return c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("span",V,[c.recipes.length?(Object(a["p"])(),Object(a["d"])("div",z,[W,Object(a["g"])("div",Y,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.recipes,(function(e){return Object(a["p"])(),Object(a["d"])(o,{recipeData:e,key:e.id},null,8,["recipeData"])})),128))])])):(Object(a["p"])(),Object(a["d"])("div",K,[J,Q]))]))})),Z={name:"Favorites",components:{RecipeCard:F},data:function(){return{loading:!1,recipes:[]}},created:function(){this.loading=!0},mounted:function(){var e=this;this.$api.getFavoriteRecipes().then((function(t){return e.recipes=t})).then((function(){return e.loading=!1}))}};n("2b01");Z.render=X,Z.__scopeId="data-v-3b7ef782";var ee=Z,te={key:0},ne={key:0},re=Object(a["g"])("div",{class:"page-description"},[Object(a["g"])("p",null,"These are all of the ingredients in your cart. The next time you're at the market, pick these up!")],-1),ae={key:0},ce={key:1};function ie(e,t,n,r,c,i){return c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("span",te,[c.recipes.length?(Object(a["p"])(),Object(a["d"])("div",ne,[re,c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("ul",ae,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(i.ingredients,(function(e){return Object(a["p"])(),Object(a["d"])("li",{key:e},Object(a["y"])(e),1)})),128))]))])):(Object(a["p"])(),Object(a["d"])("div",ce,"There are no items in the cart."))]))}n("d81d");var oe={name:"Cart",data:function(){return{loading:!1,recipes:[]}},computed:{ingredients:function(){return this.recipes.map((function(e){return e.ingredients.split(",")})).flat()}},created:function(){this.loading=!0},mounted:function(){var e=this;this.$api.getCartRecipes().then((function(t){return e.recipes=t})).then((function(){return e.loading=!1})).catch((function(e){return console.error(e)}))}};oe.render=ie;var se=oe,ue=Object(a["G"])("data-v-2b4c08dc");Object(a["s"])("data-v-2b4c08dc");var de={class:"detail-ctr"};Object(a["q"])();var pe=ue((function(e,t,n,r,c,i){var o=Object(a["w"])("RecipeCard");return Object(a["p"])(),Object(a["d"])("div",de,[c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])(o,{key:0,recipeData:c.recipe,mini:!1,disabled:!0},null,8,["recipeData"]))])})),le={name:"recipeDetail",components:{RecipeCard:F},props:{id:String},data:function(){return{loading:!1,recipe:{}}},created:function(){this.loading=!0},mounted:function(){var e=this;this.$api.recipe.getByID(this.id).then((function(t){return e.recipe=t})).then((function(){return e.$nextTick((function(){return e.loading=!1}))}))}};n("023a");le.render=pe,le.__scopeId="data-v-2b4c08dc";var fe=le,be=Object(a["G"])("data-v-6b320ca6");Object(a["s"])("data-v-6b320ca6");var he={key:0,class:"auth-notice"},je=Object(a["g"])("h3",null,"You cannot login or register because you are already logged in.",-1),ve=Object(a["g"])("p",null,"To log out, click the logout button in the nav.",-1),ge={key:1},me={id:"auth-form"},Oe={class:"form-field"},ye=Object(a["g"])("label",{for:"name-field"},"Name",-1),ke={class:"form-field"},we=Object(a["g"])("label",{for:"email-field"},"Email",-1),Re={class:"form-field"},xe=Object(a["g"])("label",{for:"password-field"},"Password",-1);Object(a["q"])();var Ie=be((function(e,t,n,r,c,i){return e.$api.isAuthenticated()?(Object(a["p"])(),Object(a["d"])("span",he,[je,ve])):(Object(a["p"])(),Object(a["d"])("span",ge,[Object(a["g"])("h3",null,Object(a["y"])(i.title),1),Object(a["g"])("form",me,[Object(a["E"])(Object(a["g"])("div",Oe,[ye,Object(a["E"])(Object(a["g"])("input",{type:"text",id:"name-field",name:"name-field","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.userInfo.name=e}),required:""},null,512),[[a["B"],c.userInfo.name]])],512),[[a["C"],!i.isLogin]]),Object(a["g"])("div",ke,[we,Object(a["E"])(Object(a["g"])("input",{type:"text",id:"email-field",name:"email-field","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.userInfo.email=e}),required:""},null,512),[[a["B"],c.userInfo.email]])]),Object(a["g"])("div",Re,[xe,Object(a["E"])(Object(a["g"])("input",{type:"text",id:"password-field",name:"password-field","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.userInfo.password=e}),required:""},null,512),[[a["B"],c.userInfo.password]])]),i.isLogin?(Object(a["p"])(),Object(a["d"])("button",{key:1,disabled:!i.validate(),id:"login-btn",onClick:t[5]||(t[5]=Object(a["F"])((function(){return i.login.apply(i,arguments)}),["prevent"]))},"Log In",8,["disabled"])):(Object(a["p"])(),Object(a["d"])("button",{key:0,disabled:!i.validate(),id:"register-btn",onClick:t[4]||(t[4]=Object(a["F"])((function(){return i.register.apply(i,arguments)}),["prevent"]))},"Register",8,["disabled"]))])]))})),_e=n("1c4a"),Ce=n.n(_e),De={name:"AuthForm",data:function(){return{isValid:!1,errors:{},userInfo:{name:"",email:"",password:""}}},methods:{login:function(){var e=this;this.$api.login(this.userInfo).then((function(){return e.$router.push({name:"Home"})})).catch((function(e){return console.error(e)}))},register:function(){var e=this;this.$api.register(this.userInfo).then((function(){return e.$router.push({name:"Home"})})).catch((function(e){return console.error(e)}))},validate:function(){var e={email:"required",password:"required"},t={name:"required",email:"required",password:"required|min:8"},n=new Ce.a(this.userInfo,this.isLogin?e:t);return this.errors=n.errors.all(),n.passes()}},computed:{isLogin:function(){return this.$route.meta.isLogin},title:function(){return this.isLogin?"Log In":"Register"}},watch:{userInfo:function(){this.validate()}}};n("eddc");De.render=Ie,De.__scopeId="data-v-6b320ca6";var $e=De,Fe=Object(a["g"])("h1",null,"Whoops!",-1),qe=Object(a["g"])("h3",null,"It looks like you took a wrong turn.",-1),Le=Object(a["g"])("p",null,"Go back to one of the routes that you have access to or register!",-1);function Te(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])(a["a"],null,[Fe,qe,Le],64)}var Ae={name:"Forbidden"};Ae.render=Te;var Be=Ae;function Se(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("h1",null,"Not Found")}var Ne={name:"NotFound"};Ne.render=Se;var Pe=Ne,Ee=[{path:"/",name:"Home",component:A},{path:"/about",name:"About",component:U},{path:"/favorites",name:"Favorites",component:ee,meta:{requiresAuth:!0}},{path:"/Cart",name:"Cart",component:se,meta:{requiresAuth:!0}},{path:"/recipe-detail/:id",name:"RecipeDetail",component:fe,props:!0},{path:"/login",name:"Login",meta:{isLogin:!0},component:$e},{path:"/register",name:"Register",meta:{isLogin:!1},component:$e},{path:"/fordidden",name:"Forbidden",component:Be},{path:"/404",name:"NotFound",component:Pe},{path:"/:pathMatch(.*)*",name:"not-found",component:Pe}],Ge=Object(s["a"])({history:Object(s["b"])("/"),routes:Ee}),He=Ge,Ue=n("d4ec"),Me=n("bee2"),Ve=n("bc3a"),ze=n.n(Ve),We=function(){function e(){Object(Ue["a"])(this,e);var t="https://e28-api.vueserver.com";this.axios=ze.a.create({baseURL:t,responseType:"json",withCredentials:!0})}return Object(Me["a"])(e,[{key:"getFavoriteRecipes",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.favorite.getList();case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return r.recipe.getByID(e.recipe_id)})));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCartRecipes",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.cart.getList();case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return r.recipe.getByID(e.recipe_id)})));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isAuthenticated",value:function(){var e=this.token&&this.name&&this.email;return!!e}},{key:"getUserName",value:function(){return this.name}},{key:"clearUser",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.localStorage.removeItem("gb_auth_token"),window.localStorage.removeItem("gb_auth_name"),window.localStorage.removeItem("gb_auth_email");case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,c,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,n||console.error("email required"),r||console.error("password required"),a="/login",c={email:n,password:r},e.abrupt("return",this.axios.post(a,c).then((function(e){var t=e.data,n=t.token,r=t.user;i.token=n,i.email=r.email,i.name=r.name})).catch((function(e){console.error(e)})));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/logout",e.abrupt("return",this.axios.post(t).then((function(){return n.clearUser()})).catch((function(e){return console.error(e)})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,c,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.name,r=t.email,a=t.password,n||console.error("name required"),r||console.error("email required"),a||console.error("password required"),c={name:n,email:r,password:a},i="/register",e.abrupt("return",this.axios.post(i,c).then((function(e){var t=e.data.errors;if(t)console.error(t[0]);else{var n=e.data,r=n.token,a=n.user;o.token=r,o.email=a.email,o.name=a.name}})).catch((function(e){return console.error(e)})));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"recipe",get:function(){var e=this,t="/recipe";return{getList:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t;return e.axios.get(r,{params:n}).then((function(e){return e.data.recipe}))},getByID:function(n){var r="".concat(t,"/").concat(n);return e.axios.get(r).then((function(e){return e.data.recipe}))},create:function(n){var r=t;return e.axios.post(r,n).then((function(e){return e.data.recipe}))},update:function(n,r){var a="".concat(t,"/").concat(n);return e.axios.put(a,r).then((function(e){return e.data.recipe}))},delete:function(n){var r="".concat(t,"/").concat(n);return e.axios.delete(r).then((function(e){return e.data.recipe}))}}}},{key:"favorite",get:function(){var e=this,t="/favorite";return{getList:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t;return e.axios.get(r,{params:n}).then((function(e){return e.data.favorite}))},getByID:function(n){var r="".concat(t,"/").concat(n);return e.axios.get(r).then((function(e){return e.data.favorite}))},create:function(n){var r=t,a={recipe_id:n};return e.axios.post(r,a).then((function(e){return e.data.favorite}))},update:function(n,r){var a="".concat(t,"/").concat(n);return e.axios.put(a,r).then((function(e){return e.data.favorite}))},delete:function(n){var r="".concat(t,"/").concat(n);return e.axios.delete(r).then((function(e){return e.data.favorite}))}}}},{key:"cart",get:function(){var e=this,t="/cart";return{getList:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t;return e.axios.get(r,{params:n}).then((function(e){return e.data.cart}))},getByID:function(n){var r="".concat(t,"/").concat(n);return e.axios.get(r).then((function(e){return e.data.cart}))},create:function(n){var r=t,a={recipe_id:n};return e.axios.post(r,a).then((function(e){return e.data.cart}))},update:function(n,r){var a="".concat(t,"/").concat(n);return e.axios.put(a,r).then((function(e){return e.data.cart}))},delete:function(n){var r="".concat(t,"/").concat(n);return e.axios.delete(r).then((function(e){return e.data.cart}))}}}},{key:"token",get:function(){return window.localStorage.getItem("gb_auth_token")},set:function(e){window.localStorage.setItem("gb_auth_token",e)}},{key:"email",get:function(){return window.localStorage.getItem("gb_auth_email")},set:function(e){window.localStorage.setItem("gb_auth_email",e)}},{key:"name",get:function(){return window.localStorage.getItem("gb_auth_name")},set:function(e){window.localStorage.setItem("gb_auth_name",e)}},{key:"user",get:function(){return this.isAuthenticated()?{name:this.name,email:this.email}:null}}]),e}();n("f5df1"),n("0397");function Ye(e,t,n,r,c,i){var o=Object(a["w"])("Masthead"),s=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(o),c.loading?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])(s,{key:0}))],64)}var Ke=Object(a["G"])("data-v-a75005e0");Object(a["s"])("data-v-a75005e0");var Je=Object(a["g"])("div",{class:"title-ctr"},[Object(a["g"])("h1",{class:"title"},"Great British Bake-off Recipes"),Object(a["g"])("p",{class:"subtitle"},"The Unofficial Online Recipe Book for your Favorite TV Show!")],-1);Object(a["q"])();var Qe=Ke((function(e,t,n,r,c,i){var o=Object(a["w"])("NavBar");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Je,Object(a["g"])(o)],64)})),Xe=Object(a["G"])("data-v-3b9884a4");Object(a["s"])("data-v-3b9884a4");var Ze={class:"nav-ctr"},et={class:"nav-items"},tt={class:"auth-ctr"},nt={class:"auth-greeting"},rt=Object(a["f"])("Hello, "),at={"data-test":"user-name",class:"user-name"},ct={key:1,class:"auth-items"};Object(a["q"])();var it=Xe((function(e,t,n,r,c,i){var o=Object(a["w"])("NavItem");return Object(a["p"])(),Object(a["d"])("div",Ze,[Object(a["g"])("div",et,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.items,(function(e){return Object(a["p"])(),Object(a["d"])(o,{key:e.key,name:e.name,path:e.path},null,8,["name","path"])})),128))]),Object(a["g"])("div",tt,[e.$api.isAuthenticated()?(Object(a["p"])(),Object(a["d"])("div",{class:"auth-items",key:c.authKey},[Object(a["g"])("div",nt,[rt,Object(a["g"])("span",at,Object(a["y"])(i.username),1),Object(a["g"])("button",{class:"auth-button",onClick:t[1]||(t[1]=function(){return i.logout.apply(i,arguments)})},"Logout")])])):(Object(a["p"])(),Object(a["d"])("div",ct,[Object(a["g"])("button",{onClick:t[2]||(t[2]=function(){return i.navigateToLogin.apply(i,arguments)})},"Login"),Object(a["g"])("button",{class:"auth-button",onClick:t[3]||(t[3]=function(){return i.navigateToRegister.apply(i,arguments)})},"Register")]))])])})),ot=Object(a["G"])("data-v-a37da5e2"),st=ot((function(e,t,n,r,c,i){var o=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])(o,{class:"nav-link",to:n.path},{default:ot((function(){return[Object(a["f"])(Object(a["y"])(n.name),1)]})),_:1},8,["to"])})),ut={name:"NavItem",props:{name:{type:String,required:!0},path:{type:String,required:!0}},methods:{navToPath:function(){this.$router.push({name:this.path})}},computed:{isActive:function(){return this.$route.name===this.name}}};n("5e6e");ut.render=st,ut.__scopeId="data-v-a37da5e2";var dt=ut,pt={name:"NavBar",components:{NavItem:dt},data:function(){return{items:[{name:"Home",key:"home-link",path:"/"},{name:"About",key:"about-link",path:"/about"},{name:"Favorites",key:"favorites-link",path:"/favorites"},{name:"Cart",key:"cart-link",path:"/cart"}],authKey:0}},methods:{navigateToLogin:function(){this.$router.push({name:"Login"})},navigateToRegister:function(){this.$router.push({name:"Register"})},logout:function(){var e=this;this.$api.logout().then((function(){return e.$store.dispatch("initData")})).then((function(){return e.$nextTick((function(){return e.authKey+=1}))})).finally((function(){return e.$router.push({name:"Home"})}))}},computed:{username:function(){var e=this.$api.user.name,t=15;return e.length<t?e:"".concat(e.substring(0,t),"...")}}};n("2c90");pt.render=it,pt.__scopeId="data-v-3b9884a4";var lt=pt,ft={name:"MastHead",components:{NavBar:lt}};n("44d8");ft.render=Qe,ft.__scopeId="data-v-a75005e0";var bt=ft,ht={name:"Home",components:{Masthead:bt},data:function(){return{loading:!1}},created:function(){this.loading=!0},mounted:function(){this.loading=!1}};n("64be");ht.render=Ye;var jt=ht,vt=(n("7db0"),n("2909"));function gt(){return{recipes:[],favorites:[],cart:[]}}var mt=gt(),Ot={recipes:function(e){return e.recipes},recipeCategories:function(e){var t=[];return e.recipes.forEach((function(e){var n=e.categories.split(",");t.push(n)})),Array.from(new Set(t.flat()))},cart:function(e){return e.cart},favoriteRecipeIDs:function(e){return Object(vt["a"])(new Set(e.favorites.map((function(e){return parseInt(e.recipe_id)}))))},cartRecipeIDs:function(e){return Object(vt["a"])(new Set(e.cart.map((function(e){return parseInt(e.recipe_id)}))))}},yt={initData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,r("fetchRecipes");case 3:if(!t.$api.isAuthenticated()){n.next=8;break}return n.next=6,r("fetchFavorites");case 6:return n.next=8,r("fetchCart");case 8:case"end":return n.stop()}}),n)})))()},fetchRecipes:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,t.$api.recipe.getList();case 3:a=n.sent,r("setRecipes",a);case 5:case"end":return n.stop()}}),n)})))()},fetchFavorites:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,t.$api.favorite.getList();case 3:a=n.sent,r("setFavorites",a);case 5:case"end":return n.stop()}}),n)})))()},fetchCart:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,t.$api.cart.getList();case 3:a=n.sent,r("setCart",a);case 5:case"end":return n.stop()}}),n)})))()},updateFavorites:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,c,i,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,c=t.recipeData,i=t.type,"add"!==i){r.next=7;break}return r.next=5,n.$api.favorite.create(c.id).catch((function(e){return console.error(e)}));case 5:r.next=13;break;case 7:return r.next=9,n.$api.favorite.getList();case 9:return o=r.sent,s=o.find((function(e){return parseInt(e.recipe_id)===parseInt(c.id)})).id,r.next=13,n.$api.favorite.delete(s).catch((function(e){return console.error(e)}));case 13:a("fetchFavorites");case 14:case"end":return r.stop()}}),r)})))()},updateCart:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,c,i,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,c=t.recipeData,i=t.type,"add"!==i){r.next=7;break}return r.next=5,n.$api.cart.create(c.id).catch((function(e){return console.error(e)}));case 5:r.next=13;break;case 7:return r.next=9,n.$api.cart.getList();case 9:return o=r.sent,s=o.find((function(e){return parseInt(e.recipe_id)===parseInt(c.id)})).id,r.next=13,n.$api.cart.delete(s).catch((function(e){return console.error(e)}));case 13:a("fetchCart");case 14:case"end":return r.stop()}}),r)})))()}},kt={setRecipes:function(e,t){e.recipes=t},setFavorites:function(e,t){e.favorites=t},setCart:function(e,t){e.cart=t}},wt={state:mt,getters:Ot,actions:yt,mutations:kt},Rt=Object(l["a"])({modules:{items:wt}}),xt=Object(a["c"])(jt),It=new We;xt.config.globalProperties.$api=Object(a["t"])(It),c["c"].add(i["a"]),c["c"].add(i["b"]),xt.component("font-awesome-icon",o["a"]),He.beforeEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.matched.some((function(e){return e.meta.requiresAuth})),a&&!It.isAuthenticated()?r({name:"Forbidden"}):r();case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),Rt.$api=It,xt.use(He).use(Rt).mount("#app")},"5cc4":function(e,t,n){"use strict";n("5fa4")},"5e6e":function(e,t,n){"use strict";n("c113")},"5fa4":function(e,t,n){},6305:function(e,t,n){},"630f":function(e,t,n){},"64be":function(e,t,n){"use strict";n("c894")},"9a44":function(e,t,n){},c113:function(e,t,n){},c894:function(e,t,n){},dafc:function(e,t,n){},eddc:function(e,t,n){"use strict";n("6305")}});
//# sourceMappingURL=app.b2442060.js.map